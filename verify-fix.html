<!DOCTYPE html>
<html>
<head>
    <title>Verify Whisper+me Fix</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .step { background: #e8f4fd; padding: 15px; border-radius: 10px; margin: 10px 0; }
        .success { background: #d4edda; border: 2px solid #28a745; }
        .error { background: #f8d7da; border: 2px solid #dc3545; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        a { color: #007bff; text-decoration: none; font-weight: bold; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <h1>Whisper+me Fix Verification</h1>
    
    <div class="step">
        <h2>Step 1: Update Firestore Rules</h2>
        <p><a href="https://console.firebase.google.com/project/whisper-chat-live/firestore/rules" target="_blank">
            Click here to open Firestore Rules
        </a></p>
        <p>Delete everything and paste:</p>
        <pre>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}</pre>
        <p>Click <strong>PUBLISH</strong> (blue button)</p>
    </div>
    
    <div class="step">
        <h2>Step 2: Clear Cache & Test</h2>
        <button onclick="clearCache()">Clear Browser Cache</button>
        <button onclick="testDashboard()">Test Dashboard</button>
        <button onclick="testProfile()">Test Profile Page</button>
    </div>
    
    <div id="result"></div>
    
    <script>
        function clearCache() {
            alert('Press Ctrl+Shift+Delete (Windows) or Cmd+Shift+Delete (Mac)\nSelect "All time" and "Cached images/files"\nClick "Clear data"');
        }
        
        function testDashboard() {
            window.open('https://pariisway.github.io/whisperme/dashboard.html', '_blank');
        }
        
        function testProfile() {
            window.open('https://pariisway.github.io/whisperme/profile.html', '_blank');
        }
        
        // Quick test
        console.log("Test page loaded");
        console.log("If you see 'Missing or insufficient permissions' in console,");
        console.log("your Firestore rules are NOT set correctly.");
    </script>
</body>
</html>
