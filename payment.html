<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment & Tokens - Whisper+me</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <h1>Whisper<span>+me</span></h1>
            </a>
            <div class="nav-links">
                <a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a>
                <a href="payment.html" class="active"><i class="fas fa-coins"></i> Tokens</a>
                <a href="profile.html"><i class="fas fa-user"></i> Profile</a>
                <a href="#" id="logoutBtn" class="btn btn-small btn-outline"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Token Balance Header -->
        <div class="dashboard-header" style="margin-top: 2rem;">
            <div class="welcome-message">
                <h1><i class="fas fa-wallet"></i> My Wallet</h1>
                <p>Manage your Whisper tokens and earnings</p>
            </div>
            <div class="token-balance">
                <div class="stat-card" style="background: linear-gradient(135deg, #7b2cbf 0%, #9d4edd 100%); color: white;">
                    <div class="stat-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Current Balance</h3>
                        <p id="tokenBalance">Loading...</p>
                        <h2 style="font-size: 2.5rem; margin: 0;">0 <small style="font-size: 1rem;">tokens</small></h2>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings Section -->
        <div class="stats-grid" style="margin-top: 2rem;">
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #38b000 0%, #80ed99 100%);">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-content">
                    <h3>Total Earnings</h3>
                    <p id="totalEarnings">$0.00</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #ff9e00 0%, #ffca3a 100%);">
                    <i class="fas fa-phone-alt"></i>
                </div>
                <div class="stat-content">
                    <h3>Calls Completed</h3>
                    <p id="callsCompleted">0</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #1982c4 0%, #8ac926 100%);">
                    <i class="fas fa-star"></i>
                </div>
                <div class="stat-content">
                    <h3>Average Rating</h3>
                    <p id="averageRating">4.5 ★</p>
                </div>
            </div>
        </div>

        <!-- Buy Tokens Section -->
        <div class="form-container" style="margin-top: 3rem;">
            <h2><i class="fas fa-shopping-cart"></i> Buy Tokens</h2>
            <p style="margin-bottom: 2rem; color: #666;">Tokens are used to start calls with whisperers. 1 token = 1 minute of call time.</p>
            
            <div class="token-packages">
                <div class="package-grid">
                    <div class="package-card" data-tokens="10" data-price="9.99">
                        <div class="package-header">
                            <h3>Starter Pack</h3>
                            <div class="package-price">$9.99</div>
                        </div>
                        <div class="package-body">
                            <h4>10 Tokens</h4>
                            <p>≈ 10 minutes of calls</p>
                            <p><i class="fas fa-check"></i> Perfect for trying out</p>
                            <button class="btn btn-primary btn-block buy-btn">Buy Now</button>
                        </div>
                    </div>
                    
                    <div class="package-card popular" data-tokens="30" data-price="24.99">
                        <div class="package-badge">MOST POPULAR</div>
                        <div class="package-header">
                            <h3>Popular Pack</h3>
                            <div class="package-price">$24.99</div>
                        </div>
                        <div class="package-body">
                            <h4>30 Tokens</h4>
                            <p>≈ 30 minutes of calls</p>
                            <p><i class="fas fa-check"></i> Save 17%</p>
                            <p><i class="fas fa-check"></i> Best value</p>
                            <button class="btn btn-primary btn-block buy-btn">Buy Now</button>
                        </div>
                    </div>
                    
                    <div class="package-card" data-tokens="100" data-price="69.99">
                        <div class="package-header">
                            <h3>Pro Pack</h3>
                            <div class="package-price">$69.99</div>
                        </div>
                        <div class="package-body">
                            <h4>100 Tokens</h4>
                            <p>≈ 100 minutes of calls</p>
                            <p><i class="fas fa-check"></i> Save 30%</p>
                            <p><i class="fas fa-check"></i> VIP support</p>
                            <button class="btn btn-primary btn-block buy-btn">Buy Now</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payout Section -->
        <div class="form-container" style="margin-top: 3rem;">
            <h2><i class="fas fa-credit-card"></i> Request Payout</h2>
            <p style="margin-bottom: 2rem; color: #666;">Withdraw your earnings to your PayPal account. Minimum payout: $20.</p>
            
            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i> You earn 1 token for every minute you spend on calls as a whisperer.
            </div>
            
            <div class="form-group">
                <label for="availableEarnings"><i class="fas fa-money-bill"></i> Available for Payout</label>
                <div class="amount-display">
                    <h3 id="availableForPayout">$0.00</h3>
                    <small>Minimum: $20.00</small>
                </div>
            </div>
            
            <div class="form-group">
                <label for="payoutAmount"><i class="fas fa-dollar-sign"></i> Payout Amount ($)</label>
                <input type="number" id="payoutAmount" min="20" step="0.01" placeholder="20.00">
            </div>
            
            <div class="form-group">
                <label for="paypalEmail"><i class="fab fa-paypal"></i> PayPal Email</label>
                <input type="email" id="paypalEmail" placeholder="your-email@example.com">
            </div>
            
            <button id="requestPayoutBtn" class="btn btn-success btn-large" disabled>
                <i class="fas fa-paper-plane"></i> Request Payout
            </button>
            
            <div id="payoutMessage" class="alert" style="display: none; margin-top: 1rem;"></div>
        </div>

        <!-- Transaction History -->
        <div class="form-container" style="margin-top: 3rem;">
            <h2><i class="fas fa-history"></i> Transaction History</h2>
            <div class="transaction-list" id="transactionList">
                <div class="transaction-item">
                    <div class="transaction-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="transaction-details">
                        <h4>Token Purchase</h4>
                        <p>10 tokens - $9.99</p>
                        <small class="text-muted">Today, 10:30 AM</small>
                    </div>
                    <div class="transaction-amount negative">
                        -$9.99
                    </div>
                </div>
                <!-- More transactions will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Whisper+me</h3>
                    <p>Private voice chats with amazing people.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <a href="dashboard.html">Dashboard</a>
                    <a href="payment.html">Buy Tokens</a>
                    <a href="profile.html">My Profile</a>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <a href="#">Help Center</a>
                    <a href="#">Contact Us</a>
                    <a href="#">Privacy Policy</a>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 Whisper+me. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/payment.js"></script>
</body>
</html>